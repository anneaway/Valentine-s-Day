<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Pour toi ðŸ’Œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(120deg,#fde2e4,#fbcfe8,#f9a8d4);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Inter', sans-serif;
  overflow: hidden;
  transition: background 1s ease;
}

/* ========== ENVELOPPE ========== */
.envelope {
  width: 420px;
  height: 280px;
  background: #f8fafc;
  border-radius: 18px;
  position: relative;
  cursor: pointer;
  box-shadow: 0 30px 60px rgba(0,0,0,0.25);
}

.flap {
  position: absolute;
  inset: 0;
  background: #f1f5f9;
  clip-path: polygon(0 0,100% 0,50% 62%);
  transform-origin: top;
  transition: transform .8s ease;
  z-index: 3;
}
.envelope.open .flap { transform: rotateX(180deg); }

/* ========== LETTRE ========== */
.letter {
  position: absolute;
  width: 340px;
  background: #fff;
  border-radius: 22px;
  padding: 40px 28px 36px;
  top: 50%;
  left: 50%;
  transform: translate(-50%,40%);
  opacity: 0;
  box-shadow: 0 25px 50px rgba(0,0,0,.3);
  text-align: center;
  transition: all 1s ease;
  z-index: 5;
}
.envelope.open .letter {
  transform: translate(-50%,-90%);
  opacity: 1;
}

/* pulse */
.letter.pulse {
  animation: pulse .35s ease-in-out 2;
}
@keyframes pulse {
  0% { transform: translate(-50%,-90%) scale(1); }
  50% { transform: translate(-50%,-90%) scale(1.04); }
  100% { transform: translate(-50%,-90%) scale(1); }
}

/* ========== TEXTE ========== */
.line {
  opacity: 0;
  transform: translateY(6px);
  transition: opacity .6s ease, transform .6s ease;
}
.line.show {
  opacity: 1;
  transform: translateY(0);
}
.letter h1 {
  font-family: 'Playfair Display', serif;
  font-size: 1.9rem;
  margin-bottom: 14px;
}

/* ========== BOUTONS ========== */
.buttons {
  position: relative;
  width: 100%;
  height: 110px;
  margin-top: 26px;
  opacity: 0;
  transition: opacity .6s ease;
}
.buttons.show { opacity: 1; }

button {
  padding: 12px 26px;
  border-radius: 30px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  position: absolute;
}

/* positions initiales centrÃ©es */
.yes {
  background:#e63946;
  color:#fff;
  left:50%;
  bottom:0;
  transform: translateX(-110px);
}
.no {
  background:#e5e7eb;
  color:#374151;
  left:50%;
  bottom:0;
  transform: translateX(10px);
}

/* message */
.message {
  margin-top: 14px;
  font-style: italic;
  min-height: 36px;
}

/* ========== COEUR ========== */
.heart {
  position: fixed;
  font-size: 3rem;
  opacity: 0;
  animation: heart 1.2s ease forwards;
}
@keyframes heart {
  0% { transform: scale(.5); opacity:0; }
  30% { opacity:1; }
  100% { transform: scale(1.8); opacity:0; }
}

/* ========== CONFETTIS ========== */
.confetti {
  position: fixed;
  width: 6px;
  height: 6px;
  background: pink;
  opacity: .8;
  animation: confetti 1.4s ease forwards;
}
@keyframes confetti {
  0% { transform: translateY(0); opacity:1; }
  100% { transform: translateY(120px); opacity:0; }
}

/* ========== FINAL ========== */
.final {
  display: none;
  text-align: center;
  background: rgba(255,255,255,.92);
  padding: 46px;
  border-radius: 28px;
  box-shadow: 0 35px 70px rgba(0,0,0,.35);
  opacity: 0;
  transition: opacity 1s ease;
}
.final.show { opacity: 1; }
.final img {
  margin-top: 20px;
  max-width: 100%;
  border-radius: 18px;
}
</style>
</head>

<body>

<div class="envelope" id="envelope">
  <div class="flap"></div>

  <div class="letter" id="letter">
    <h1 class="line">Salut mon petit prince</h1>
    <p class="line"><strong>Voudrais-tu passer la Saint-Valentin avec moi&nbsp;?</strong></p>

    <div class="buttons" id="buttons">
      <button class="yes" onclick="accept()">Oui ðŸ’–</button>
      <button class="no" id="noBtn">Non ðŸ™ƒ</button>
    </div>

    <div class="message" id="message"></div>
  </div>
</div>

<div class="final" id="final">
  <h2>Je savais que tu dirais oui !</h2>
  <p>
    Mets-toi sur ton 31, je te prÃ©pare une petite surprise<br>
    mais je te laisse planifier la soirÃ©e
  </p>

  <!-- GIF TENOR (LIEN MEDIA DIRECT) -->
  <img src="https://media.tenor.com/5obTqYtt8AAAAC/love-couple.gif" alt="gif romantique">
</div>

<script>
const envelope = document.getElementById("envelope");
const lines = document.querySelectorAll(".line");
const buttons = document.getElementById("buttons");
const noBtn = document.getElementById("noBtn");
const msg = document.getElementById("message");
const letter = document.getElementById("letter");

const messages = [
  "s'il te plaÃ®t ðŸ¥º",
  "comment Ã§a non ? ðŸ˜¾",
  "catch me if you can hihi",
  "tu ne veux vraiment pas le passer avec moi ? ðŸ˜£",
  "pourtant j'avais une surprise Ã©picÃ©e ðŸ‘€",
  "je dirais oui Ã  ta place ðŸ¤—",
  "si on en arrive jusque lÃ , c'est que tu veux me rage bait",
  "je vais te faciliter la tÃ¢che"
];

let attempts = 0;

envelope.addEventListener("click", () => {
  envelope.classList.add("open");
  lines.forEach((l,i)=>setTimeout(()=>l.classList.add("show"),500+i*500));
  setTimeout(()=>buttons.classList.add("show"),1800);
});

noBtn.addEventListener("mouseenter", () => {
  if (attempts >= messages.length - 1) {
    buttons.innerHTML = `
      <button class="yes" onclick="accept()" style="left:50%;transform:translateX(-110px)">Oui ðŸ’–</button>
      <button class="yes" onclick="accept()" style="left:50%;transform:translateX(10px)">Oui ðŸ’–</button>
    `;
    msg.textContent = messages[messages.length - 1];
    return;
  }

  msg.textContent = messages[attempts];

  const zone = buttons.getBoundingClientRect();
  const yes = buttons.querySelector(".yes").getBoundingClientRect();

  let x,y;
  do {
    x = Math.random() * (zone.width - noBtn.offsetWidth);
    y = Math.random() * (zone.height - noBtn.offsetHeight);
  } while (Math.abs(x - (yes.left-zone.left)) < 80);

  noBtn.style.left = x+"px";
  noBtn.style.top = y+"px";
  attempts++;
});

function accept() {
  document.body.style.background =
    "linear-gradient(120deg,#f8cdda,#fbcfe8,#f9a8d4)";
  letter.classList.add("pulse");

  const heart = document.createElement("div");
  heart.className="heart";
  heart.textContent="â¤ï¸";
  heart.style.left="50%";
  heart.style.top="40%";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),1200);

  for(let i=0;i<10;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=50+Math.random()*100-50+"%";
    c.style.top="40%";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1400);
  }

  setTimeout(()=>{
    envelope.style.display="none";
    const final=document.getElementById("final");
    final.style.display="block";
    setTimeout(()=>final.classList.add("show"),50);
  },900);
}
</script>

</body>
</html>
